<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¸¬è©¦æŒ‡å— | ä¹é¾è¨˜æ†¶åº«</title>
    <style>
        body {
            font-family: 'Microsoft JhengHei', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        
        .test-section {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            border-left: 4px solid #2563eb;
        }
        
        .success { border-left-color: #10b981; }
        .warning { border-left-color: #f59e0b; }
        .error { border-left-color: #ef4444; }
        
        code {
            background: #1f2937;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>ğŸ§ª ä¹é¾è¨˜æ†¶åº«æ¸¬è©¦æŒ‡å—</h1>
    
    <div class="test-section success">
        <h2>âœ… åŸºæœ¬åŠŸèƒ½æ¸¬è©¦</h2>
        <ol>
            <li>è¨ªå• <code>index.html</code> - æ‡‰è©²é¡¯ç¤ºå°ˆæ¥­é¦–é </li>
            <li>é»æ“Šã€Œç«‹å³é ç´„é«”é©—ã€- æ‡‰è©²é¡¯ç¤ºé ç´„è¡¨å–®</li>
            <li>å¡«å¯«è¡¨å–®ä¸¦æäº¤ - æ‡‰è©²é¡¯ç¤ºç™»å…¥ç•Œé¢</li>
            <li>ä½¿ç”¨æ¸¬è©¦ç¢ºèªç¢¼ <code>TEST123</code> ç™»å…¥</li>
            <li>æ‡‰è©²æˆåŠŸé€²å…¥éŠæˆ²ç•Œé¢</li>
        </ol>
    </div>
    
    <div class="test-section">
        <h2>ğŸ® éŠæˆ²æµç¨‹æ¸¬è©¦</h2>
        <ol>
            <li>é€²å…¥éŠæˆ²å¾Œï¼Œæ‡‰è©²é¡¯ç¤ºç¬¬ä¸€é—œå…§å®¹</li>
            <li>é»æ“Šã€Œå®Œæˆä»»å‹™ã€- æ‡‰è©²é¡¯ç¤ºå®Œæˆå‹•ç•«</li>
            <li>è‡ªå‹•é€²å…¥ä¸‹ä¸€é—œï¼ˆå¦‚æœé…ç½®äº†å¤šå€‹é—œå¡ï¼‰</li>
            <li>æ¸¬è©¦QRç¢¼ç”ŸæˆåŠŸèƒ½</li>
            <li>æ¸¬è©¦ARå ´æ™¯åˆ‡æ›åŠŸèƒ½</li>
        </ol>
    </div>
    
    <div class="test-section warning">
        <h2>ğŸ”§ ARåŠŸèƒ½æ¸¬è©¦</h2>
        <p><strong>ç•¶å‰é…ç½®çš„ARæ–¹æ³•:</strong> <code id="currentARMethod">æª¢æ¸¬ä¸­...</code></p>
        
        <button onclick="testARMethods()">æ¸¬è©¦ARæ–¹æ³•åˆ‡æ›</button>
        <div id="arTestResults" style="margin-top: 10px;"></div>
        
        <h3>å¯ç”¨çš„ARæ–¹æ³•:</h3>
        <ul>
            <li><strong>QRç¢¼æƒæ</strong> - åŸºæœ¬åŠŸèƒ½ï¼Œæ‰€æœ‰è¨­å‚™æ”¯æŒ</li>
            <li><strong>GPSå®šä½</strong> - éœ€è¦è¨­å‚™æ”¯æŒåœ°ç†ä½ç½®</li>
            <li><strong>åœ–åƒè­˜åˆ¥</strong> - éœ€è¦é¡å¤–å¥—ä»¶ï¼ˆç•¶å‰ç¦ç”¨ï¼‰</li>
            <li><strong>ARæ¨™è¨˜</strong> - éœ€è¦AR.jsåº«ï¼ˆç•¶å‰ç¦ç”¨ï¼‰</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>ğŸ”‘ å¯†ç¢¼ç³»çµ±æ¸¬è©¦</h2>
        <p><strong>ç•¶å‰å¯†ç¢¼ç”Ÿæˆæ–¹æ³•:</strong> <code id="passwordMethod">æª¢æ¸¬ä¸­...</code></p>
        
        <div>
            <label>æ¸¬è©¦éšŠä¼åç¨±:</label>
            <input type="text" id="testTeamName" value="æ¸¬è©¦éšŠä¼" style="padding: 5px; margin: 0 10px;">
            <button onclick="testPasswordSystem()">ç”Ÿæˆå¯†ç¢¼</button>
            <p>ç”Ÿæˆå¯†ç¢¼: <code id="generatedPassword">-</code></p>
        </div>
    </div>
    
    <div class="test-section error">
        <h2>ğŸš¨ æ•…éšœæ’é™¤</h2>
        <h3>å¸¸è¦‹å•é¡Œ:</h3>
        <ul>
            <li><strong>é é¢é¡¯ç¤ºéŒ¯èª¤:</strong> æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤ä¿¡æ¯</li>
            <li><strong>ARåŠŸèƒ½ç„¡æ³•ä½¿ç”¨:</strong> ç¢ºä¿æœ‰ç›¸æ©Ÿæ¬Šé™ï¼Œæˆ–åˆ‡æ›åˆ°QRç¢¼æ¨¡å¼</li>
            <li><strong>GPSä¸å·¥ä½œ:</strong> æª¢æŸ¥è¨­å‚™GPSåŠŸèƒ½ï¼Œæˆ–åœ¨æˆ¶å¤–æ¸¬è©¦</li>
            <li><strong>éŠæˆ²é€²åº¦ä¸Ÿå¤±:</strong> æª¢æŸ¥ç€è¦½å™¨æœ¬åœ°å­˜å„²åŠŸèƒ½</li>
        </ul>
        
        <button onclick="runDiagnostics()">é‹è¡Œç³»çµ±è¨ºæ–·</button>
        <div id="diagnosticsResults" style="margin-top: 10px;"></div>
    </div>

    <script>
        // åŠ è¼‰ARé…ç½®
        const AR_CONFIG = {
            currentMethod: 'qr',
            methods: {
                QR: { id: 'qr', name: 'QRç¢¼æƒæ', enabled: true },
                GPS: { id: 'gps', name: 'GPSå®šä½', enabled: true },
                IMAGE: { id: 'image', name: 'åœ–åƒè­˜åˆ¥', enabled: false },
                MARKER: { id: 'marker', name: 'ARæ¨™è¨˜', enabled: false }
            }
        };
        
        // å¯†ç¢¼ç³»çµ±
        const PasswordSystem = {
            method: 'dynamic',
            fixedCode: '8888',
            
            generateDynamic: function(teamName) {
                const teamCodes = { 'æ¸¬è©¦éšŠä¼': '2024', 'ä¹é¾è¨˜æ†¶': '8888' };
                return teamCodes[teamName] || '1234';
            },
            
            getPassword: function(teamName) {
                return this.method === 'fixed' ? this.fixedCode : this.generateDynamic(teamName);
            }
        };
        
        // åˆå§‹åŒ–é¡¯ç¤º
        document.getElementById('currentARMethod').textContent = AR_CONFIG.methods[AR_CONFIG.currentMethod.toUpperCase()].name;
        document.getElementById('passwordMethod').textContent = PasswordSystem.method === 'fixed' ? 'å›ºå®šå¯†ç¢¼' : 'å‹•æ…‹ç”Ÿæˆ';
        
        // æ¸¬è©¦ARæ–¹æ³•
        function testARMethods() {
            const results = document.getElementById('arTestResults');
            results.innerHTML = '<p>æ¸¬è©¦ARæ–¹æ³•åˆ‡æ›...</p>';
            
            let output = '';
            
            // æ¸¬è©¦QRç¢¼æ–¹æ³•
            output += `<p>âœ… QRç¢¼æ–¹æ³•: ${AR_CONFIG.methods.QR.enabled ? 'å¯ç”¨' : 'ä¸å¯ç”¨'}</p>`;
            
            // æ¸¬è©¦GPSæ–¹æ³•
            if (navigator.geolocation) {
                output += `<p>âœ… GPSæ–¹æ³•: è¨­å‚™æ”¯æŒåœ°ç†ä½ç½®</p>`;
            } else {
                output += `<p>âŒ GPSæ–¹æ³•: è¨­å‚™ä¸æ”¯æŒåœ°ç†ä½ç½®</p>`;
            }
            
            // æ¸¬è©¦å…¶ä»–æ–¹æ³•
            output += `<p>â„¹ï¸ åœ–åƒè­˜åˆ¥: ${AR_CONFIG.methods.IMAGE.enabled ? 'å¯ç”¨' : 'éœ€è¦é¡å¤–å¥—ä»¶'}</p>`;
            output += `<p>â„¹ï¸ ARæ¨™è¨˜: ${AR_CONFIG.methods.MARKER.enabled ? 'å¯ç”¨' : 'éœ€è¦AR.jsåº«'}</p>`;
            
            results.innerHTML = output;
        }
        
        // æ¸¬è©¦å¯†ç¢¼ç³»çµ±
        function testPasswordSystem() {
            const teamName = document.getElementById('testTeamName').value;
            const password = PasswordSystem.getPassword(teamName);
            document.getElementById('generatedPassword').textContent = password;
        }
        
        // é‹è¡Œè¨ºæ–·
        function runDiagnostics() {
            const results = document.getElementById('diagnosticsResults');
            results.innerHTML = '<p>é‹è¡Œç³»çµ±è¨ºæ–·...</p>';
            
            let diagnostics = '';
            
            // æª¢æŸ¥æœ¬åœ°å­˜å„²
            try {
                localStorage.setItem('test', 'test');
                localStorage.removeItem('test');
                diagnostics += '<p>âœ… æœ¬åœ°å­˜å„²: æ­£å¸¸å·¥ä½œ</p>';
            } catch (e) {
                diagnostics += '<p>âŒ æœ¬åœ°å­˜å„²: ä¸å¯ç”¨</p>';
            }
            
            // æª¢æŸ¥ç›¸æ©Ÿæ”¯æŒ
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                diagnostics += '<p>âœ… ç›¸æ©ŸAPI: æ”¯æŒ</p>';
            } else {
                diagnostics += '<p>âŒ ç›¸æ©ŸAPI: ä¸æ”¯æŒ</p>';
            }
            
            // æª¢æŸ¥åœ°ç†ä½ç½®
            if (navigator.geolocation) {
                diagnostics += '<p>âœ… åœ°ç†ä½ç½®: æ”¯æŒ</p>';
            } else {
                diagnostics += '<p>âŒ åœ°ç†ä½ç½®: ä¸æ”¯æŒ</p>';
            }
            
            // æª¢æŸ¥åœ¨ç·šç‹€æ…‹
            diagnostics += `<p>ğŸŒ ç¶²çµ¡ç‹€æ…‹: ${navigator.onLine ? 'åœ¨ç·š' : 'é›¢ç·š'}</p>`;
            
            results.innerHTML = diagnostics;
        }
        
        // åˆå§‹è¨ºæ–·
        runDiagnostics();
    </script>
</body>
</html>
