<!DOCTYPE html>
<html lang="zh-HK">
<head>
    // æ”¯ä»˜è™•ç† - æ›´æ–°ç‰ˆæœ¬
async function processPayment() {
  const formData = {
    name: document.getElementById('fullName').value,
    email: document.getElementById('userEmail').value,
    phone: document.getElementById('userPhone').value,
    plan: document.getElementById('planType').value,
    participants: document.getElementById('participantCount').value,
    date: document.getElementById('bookingDate').value,
    time: document.getElementById('timeSlot').value,
    consentData: document.getElementById('consentData').checked,
    consentVolunteer: document.getElementById('consentVolunteer').checked
  };
  
  // å‰ç«¯é©—è­‰
  if (!validateFormData(formData)) {
    return;
  }
  
  console.log('ğŸ’³ è™•ç†æ”¯ä»˜:', formData);
  
  // èª¿ç”¨APIæäº¤é ç´„
  const result = await submitBookingToAPI(formData);
  
  if (result && result.success) {
    // ä¿å­˜ç”¨æˆ¶æ•¸æ“šåˆ°æœ¬åœ°å­˜å„²
    const userData = {
      teamName: formData.name,
      userEmail: formData.email,
      planType: formData.plan,
      userConsents: {
        dataCollection: formData.consentData,
        volunteerInfo: formData.consentVolunteer
      }
    };
    localStorage.setItem('kowloon_user_data', JSON.stringify(userData));
    
    // é¡¯ç¤ºç™»éŒ„ç•Œé¢
    document.getElementById('paymentScreen').style.display = 'none';
    document.getElementById('loginScreen').style.display = 'block';
    
    // é å¡«éƒµç®±
    document.getElementById('loginEmail').value = formData.email;
  }
}

// è¡¨å–®é©—è­‰
function validateFormData(formData) {
  if (!formData.name || formData.name.trim().length < 2) {
    showError('è«‹è¼¸å…¥æœ‰æ•ˆçš„å§“åï¼ˆè‡³å°‘2å€‹å­—ç¬¦ï¼‰');
    return false;
  }
  
  if (!formData.email || !isValidEmail(formData.email)) {
    showError('è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»å­éƒµä»¶åœ°å€');
    return false;
  }
  
  if (!formData.phone || formData.phone.trim().length < 8) {
    showError('è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»è©±è™Ÿç¢¼');
    return false;
  }
  
  if (!formData.plan) {
    showError('è«‹é¸æ“‡æ–¹æ¡ˆé¡å‹');
    return false;
  }
  
  if (!formData.date) {
    showError('è«‹é¸æ“‡é ç´„æ—¥æœŸ');
    return false;
  }
  
  if (!formData.time) {
    showError('è«‹é¸æ“‡é ç´„æ™‚æ®µ');
    return false;
  }
  
  if (!formData.consentData) {
    showError('è«‹åŒæ„æ•¸æ“šæ”¶é›†æ¢æ¬¾ä»¥ç¹¼çºŒ');
    return false;
  }
  
  return true;
}

// éƒµç®±é©—è­‰
function isValidEmail(email) {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email);
}
    // APIé…ç½® - è«‹æ›¿æ›YOUR_SCRIPT_IDç‚ºå¯¦éš›ID
const API_CONFIG = {
  BASE_URL: 'https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec',
  ENDPOINTS: {
    BOOKING: 'booking',
    ANALYTICS: 'analytics',
    VOLUNTEER: 'volunteer'
  }
};

// é¡¯ç¤ºåŠ è¼‰ç‹€æ…‹
function showLoading(message = 'è™•ç†ä¸­...') {
  const loadingDiv = document.createElement('div');
  loadingDiv.id = 'loadingOverlay';
  loadingDiv.innerHTML = `
    <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                background: rgba(0,0,0,0.7); z-index: 9999; display: flex; 
                align-items: center; justify-content: center;">
      <div style="background: white; padding: 30px; border-radius: 15px; text-align: center;">
        <div style="font-size: 48px; margin-bottom: 15px;">â³</div>
        <h3>${message}</h3>
        <p>è«‹ç¨å€™...</p>
      </div>
    </div>
  `;
  document.body.appendChild(loadingDiv);
}

// éš±è—åŠ è¼‰ç‹€æ…‹
function hideLoading() {
  const loadingDiv = document.getElementById('loadingOverlay');
  if (loadingDiv) {
    loadingDiv.remove();
  }
}

// é¡¯ç¤ºæˆåŠŸæ¶ˆæ¯
function showSuccess(message) {
  const successDiv = document.createElement('div');
  successDiv.innerHTML = `
    <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
                background: #d4edda; color: #155724; padding: 20px; border-radius: 10px;
                border: 1px solid #c3e6cb; z-index: 10000; text-align: center;">
      <h3>âœ… æˆåŠŸ</h3>
      <p>${message}</p>
      <button onclick="this.parentElement.parentElement.remove()" 
              style="background: #28a745; color: white; border: none; 
                     padding: 8px 15px; border-radius: 5px; cursor: pointer;">
        ç¢ºå®š
      </button>
    </div>
  `;
  document.body.appendChild(successDiv);
}

// é¡¯ç¤ºéŒ¯èª¤æ¶ˆæ¯
function showError(message) {
  const errorDiv = document.createElement('div');
  errorDiv.innerHTML = `
    <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
                background: #f8d7da; color: #721c24; padding: 20px; border-radius: 10px;
                border: 1px solid #f5c6cb; z-index: 10000; text-align: center;">
      <h3>âŒ éŒ¯èª¤</h3>
      <p>${message}</p>
      <button onclick="this.parentElement.parentElement.remove()" 
              style="background: #dc3545; color: white; border: none; 
                     padding: 8px 15px; border-radius: 5px; cursor: pointer;">
        é—œé–‰
      </button>
    </div>
  `;
  document.body.appendChild(errorDiv);
}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¹é¾è¨˜æ†¶åº« - ä»˜è²»ARæ­·å²è§£è¬é«”é©—</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --accent: #f093fb;
            --success: #00b894;
            --warning: #fdcb6e;
            --dark: #2d3436;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft JhengHei', 'PingFang TC', 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* å°èˆªæ¬„ */
        .navbar {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }
        
        .nav-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        .nav-links a {
            margin-left: 2rem;
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
        }
        
        /* è‹±é›„å€åŸŸ */
        .hero {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1538529306115-2c6d5c42c3c2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 120px 20px 80px;
            text-align: center;
        }
        
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .cta-button {
            background: linear-gradient(135deg, var(--accent), var(--secondary));
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        /* åƒ¹æ ¼æ–¹æ¡ˆ */
        .pricing {
            padding: 80px 20px;
            background: white;
        }
        
        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }
        
        .pricing-card {
            background: white;
            border-radius: 20px;
            padding: 40px 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid #f8f9fa;
            transition: transform 0.3s, border-color 0.3s;
            position: relative;
        }
        
        .pricing-card.featured {
            border-color: var(--primary);
            transform: scale(1.05);
        }
        
        .pricing-card:hover {
            transform: translateY(-10px);
            border-color: var(--accent);
        }
        
        .price {
            font-size: 3rem;
            font-weight: bold;
            color: var(--primary);
            margin: 20px 0;
        }
        
        .price span {
            font-size: 1rem;
            color: #666;
        }
        
        .features {
            list-style: none;
            margin: 30px 0;
        }
        
        .features li {
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .features li:before {
            content: "âœ“";
            color: var(--success);
            font-weight: bold;
            margin-right: 10px;
        }
        
        /* éŠæˆ²ç•Œé¢ */
        .game-container {
            max-width: 400px;
            margin: 40px auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .login-screen, .game-screen, .payment-screen {
            text-align: center;
        }
        
        .payment-screen {
            display: none;
        }
        
        .game-screen {
            display: none;
        }
        
        input, select, button {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            font-family: inherit;
        }
        
        button {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .mission-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid var(--primary);
        }
        
        .qr-code {
            width: 200px;
            height: 200px;
            margin: 20px auto;
            border: 3px dashed var(--warning);
            padding: 15px;
            background: white;
            border-radius: 10px;
        }
        
        .ar-content {
            background: var(--dark);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            min-height: 150px;
        }
        
        .historical-facts {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .social-share {
            margin: 30px 0;
        }
        
        .social-share button {
            margin: 5px;
            width: auto;
            padding: 10px 20px;
        }
        
        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .nav-links {
                display: none;
            }
            
            .pricing-card.featured {
                transform: none;
            }
        }
    </style>
</head>
<body>
    <!-- å°èˆªæ¬„ -->
    <nav class="navbar">
        <div class="nav-content">
            <div class="logo">ğŸ™ï¸ ä¹é¾è¨˜æ†¶åº«</div>
            <div class="nav-links">
                <a href="#about">é—œæ–¼æˆ‘å€‘</a>
                <a href="#pricing">åƒ¹æ ¼æ–¹æ¡ˆ</a>
                <a href="#contact">è¯çµ¡æˆ‘å€‘</a>
            </div>
        </div>
    </nav>

    <!-- è‹±é›„å€åŸŸ -->
    <section class="hero" id="home">
        <div class="container">
            <h1>æ¢ç´¢ä¹é¾å¤±è½çš„è¨˜æ†¶</h1>
            <p>é€éARæŠ€è¡“ï¼Œé‡ç¾åœŸç“œç£è‡³ä¹é¾åŸçš„ç™¾å¹´æ­·å²ã€‚4-6å°æ™‚æ²‰æµ¸å¼é«”é©—ï¼Œæ·±å…¥äº†è§£é¦™æ¸¯çš„è®Šé·ã€‚</p>
            <button class="cta-button" onclick="showPayment()">
                ç«‹å³é ç´„é«”é©— <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </section>

    <!-- åƒ¹æ ¼æ–¹æ¡ˆ -->
    <section class="pricing" id="pricing">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 20px;">é¸æ“‡æ‚¨çš„é«”é©—æ–¹æ¡ˆ</h2>
            <p style="text-align: center; color: #666; max-width: 600px; margin: 0 auto 50px;">
                æ‰€æœ‰æ–¹æ¡ˆåŒ…å«å®Œæ•´çš„ARè§£è¬é«”é©—ã€æ­·å²å°è¦½ã€ç´€å¿µè­‰æ›¸åŠç¤¾å€æ”¯æ´
            </p>
            
            <div class="pricing-grid">
                <!-- å€‹äººæ–¹æ¡ˆ -->
                <div class="pricing-card">
                    <h3>å€‹äººæ¢ç´¢</h3>
                    <div class="price">$98<span>/ä½</span></div>
                    <ul class="features">
                        <li>åŸºç¤ARæ­·å²é«”é©—</li>
                        <li>4-6å°æ™‚è‡ªåŠ©éŠ</li>
                        <li>é›»å­ç´€å¿µè­‰æ›¸</li>
                        <li>ç¤¾å€è³‡è¨Šå¥—è£</li>
                        <li>é›»éƒµæ”¯æ´</li>
                    </ul>
                    <button onclick="selectPlan('individual')">é¸æ“‡æ–¹æ¡ˆ</button>
                </div>
                
                <!-- åœ˜é«”æ–¹æ¡ˆ -->
                <div class="pricing-card featured">
                    <div style="background: var(--primary); color: white; padding: 5px 15px; border-radius: 20px; position: absolute; top: -10px; left: 50%; transform: translateX(-50%);">
                        æœ€å—æ­¡è¿
                    </div>
                    <h3>åœ˜é«”é«”é©—</h3>
                    <div class="price">$78<span>/ä½</span></div>
                    <ul class="features">
                        <li>å®Œæ•´ARæ­·å²é«”é©—</li>
                        <li>å°ˆå±¬éšŠä¼ç®¡ç†</li>
                        <li>é€²éšæ­·å²å…§å®¹</li>
                        <li>å„ªå…ˆæŠ€è¡“æ”¯æ´</li>
                        <li>ç¾©å·¥çµ„ç¹”æ¨è–¦</li>
                    </ul>
                    <button onclick="selectPlan('group')">é¸æ“‡æ–¹æ¡ˆ</button>
                </div>
                
                <!-- æ·±åº¦é«”é©— -->
                <div class="pricing-card">
                    <h3>æ·±åº¦æ–‡åŒ–</h3>
                    <div class="price">$158<span>/ä½</span></div>
                    <ul class="features">
                        <li>å°ˆå®¶å°è¦½é«”é©—</li>
                        <li>ç¨å®¶æ­·å²æª”æ¡ˆ</li>
                        <li>å°ˆæ¥­æ”å½±æœå‹™</li>
                        <li>ç¤¾å€é ˜è¢–äº¤æµ</li>
                        <li>æ°¸ä¹…æœƒå“¡è³‡æ ¼</li>
                    </ul>
                    <button onclick="selectPlan('premium')">é¸æ“‡æ–¹æ¡ˆ</button>
                </div>
            </div>
        </div>
    </section>

    <!-- éŠæˆ²å®¹å™¨ -->
    <div class="container">
        <div class="game-container">
            <!-- æ”¯ä»˜ç•Œé¢ -->
            <div class="payment-screen" id="paymentScreen">
                <h2>é ç´„æ‚¨çš„æ­·å²ä¹‹æ—…</h2>
                <form id="paymentForm">
                    <input type="text" id="fullName" placeholder="å®Œæ•´å§“å" required>
                    <input type="email" id="userEmail" placeholder="é›»å­éƒµä»¶" required>
                    <input type="tel" id="userPhone" placeholder="é›»è©±è™Ÿç¢¼" required>
                    <select id="planType" required>
                        <option value="">é¸æ“‡æ–¹æ¡ˆ</option>
                        <option value="individual">å€‹äººæ¢ç´¢ - $98</option>
                        <option value="group">åœ˜é«”é«”é©— - $78/ä½</option>
                        <option value="premium">æ·±åº¦æ–‡åŒ– - $158</option>
                    </select>
                    <input type="number" id="participantCount" placeholder="åƒèˆ‡äººæ•¸" min="1" value="1">
                    <input type="date" id="bookingDate" required>
                    <select id="timeSlot" required>
                        <option value="">é¸æ“‡æ™‚æ®µ</option>
                        <option value="09:00">ä¸Šåˆ 9:00</option>
                        <option value="11:00">ä¸Šåˆ 11:00</option>
                        <option value="14:00">ä¸‹åˆ 2:00</option>
                        <option value="16:00">ä¸‹åˆ 4:00</option>
                    </select>
                    
                    <div style="margin: 20px 0; text-align: left;">
                        <label>
                            <input type="checkbox" id="consentData" required>
                            æˆ‘åŒæ„æ”¶é›†æˆ‘çš„è³‡æ–™ä½œå¤§æ•¸æ“šåˆ†æåŠå¾ŒçºŒè¯çµ¡
                        </label>
                    </div>
                    
                    <div style="margin: 20px 0; text-align: left;">
                        <label>
                            <input type="checkbox" id="consentVolunteer">
                            æˆ‘é¡˜æ„æ¥æ”¶ç¾©å·¥çµ„ç¹”åŠç¤¾å€æ´»å‹•è³‡è¨Š
                        </label>
                    </div>
                    
                    <button type="submit">ç¢ºèªé ç´„åŠä»˜æ¬¾</button>
                </form>
            </div>

            <!-- ç™»éŒ„ç•Œé¢ -->
            <div class="login-screen" id="loginScreen">
                <h2>æ­¡è¿å›ä¾†ï¼</h2>
                <p>è«‹è¼¸å…¥æ‚¨çš„é ç´„è³‡æ–™ç™»å…¥</p>
                <input type="email" id="loginEmail" placeholder="é ç´„æ™‚ä½¿ç”¨çš„éƒµä»¶">
                <input type="text" id="loginCode" placeholder="ç¢ºèªç¢¼ï¼ˆå·²ç™¼é€è‡³éƒµä»¶ï¼‰">
                <button onclick="verifyLogin()">é–‹å§‹æ¢ç´¢</button>
                <p style="margin-top: 15px; font-size: 14px; color: #666;">
                    æœªæ”¶åˆ°ç¢ºèªç¢¼ï¼Ÿ<a href="#" onclick="resendCode()">é‡æ–°ç™¼é€</a>
                </p>
            </div>

            <!-- éŠæˆ²ç•Œé¢ -->
            <div class="game-screen" id="gameScreen">
                <h2 id="currentLocation">ç•¶å‰ä½ç½®</h2>
                
                <div class="mission-card" id="missionInfo">
                    <h3 id="missionTitle">ä»»å‹™æ¨™é¡Œ</h3>
                    <p id="missionDescription">ä»»å‹™æè¿°</p>
                    <div id="missionTask"></div>
                </div>
                
                <div class="historical-facts" id="historicalFacts">
                    <h4><i class="fas fa-book"></i> æ­·å²çŸ¥è­˜</h4>
                </div>
                
                <div class="ar-content" id="arContent">
                    <h4><i class="fas fa-vr-cardboard"></i> ARæ­·å²é‡ç¾</h4>
                </div>
                
                <div id="qrSection" style="display: none;">
                    <h4><i class="fas fa-qrcode"></i> ä¸‹ä¸€é—œQRç¢¼</h4>
                    <div class="qr-code" id="qrCodeDisplay"></div>
                    <p>å®Œæˆä»»å‹™å¾Œæƒæé€²å…¥ä¸‹ä¸€é—œ</p>
                </div>

                <div style="margin-top: 20px;">
                    <button onclick="completeMission()"><i class="fas fa-check"></i> å®Œæˆä»»å‹™</button>
                    <button onclick="showProgress()"><i class="fas fa-chart-bar"></i> æˆ‘çš„é€²åº¦</button>
                    <button onclick="showSocialShare()"><i class="fas fa-share-alt"></i> åˆ†äº«æˆå°±</button>
                </div>
                
                <div class="social-share" id="socialShare" style="display: none;">
                    <h4>åˆ†äº«æ‚¨çš„æ¢ç´¢ç¶“æ­·</h4>
                    <button style="background: #1877f2;" onclick="shareSocial('facebook')">
                        <i class="fab fa-facebook"></i> Facebook
                    </button>
                    <button style="background: #1da1f2;" onclick="shareSocial('twitter')">
                        <i class="fab fa-twitter"></i> Twitter
                    </button>
                    <button style="background: #25d366;" onclick="shareSocial('whatsapp')">
                        <i class="fab fa-whatsapp"></i> WhatsApp
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
    <script>
        // é¡¯ç¤ºæ”¯ä»˜ç•Œé¢
        function showPayment() {
            document.getElementById('paymentScreen').style.display = 'block';
        }
        
        // é¸æ“‡æ–¹æ¡ˆ
        function selectPlan(planType) {
            document.getElementById('planType').value = planType;
            showPayment();
        }
        
        // è¡¨å–®æäº¤
        document.getElementById('paymentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            processPayment();
        });
        
        // æ”¯ä»˜è™•ç†
        function processPayment() {
            const formData = {
                name: document.getElementById('fullName').value,
                email: document.getElementById('userEmail').value,
                phone: document.getElementById('userPhone').value,
                plan: document.getElementById('planType').value,
                participants: document.getElementById('participantCount').value,
                date: document.getElementById('bookingDate').value,
                time: document.getElementById('timeSlot').value,
                consentData: document.getElementById('consentData').checked,
                consentVolunteer: document.getElementById('consentVolunteer').checked
            };
            
            // é€™è£¡å¯ä»¥æ¥å…¥æ”¯ä»˜ç¶²é—œ
            alert('æ”¯ä»˜åŠŸèƒ½å¾…æ¥å…¥ï¼Œç›®å‰ç‚ºæ¼”ç¤ºæ¨¡å¼ã€‚é ç´„ä¿¡æ¯å·²è¨˜éŒ„ã€‚');
            
            // ç™¼é€ç¢ºèªéƒµä»¶
            sendConfirmationEmail(formData);
        }
        
        // ç™¼é€ç¢ºèªéƒµä»¶
        function sendConfirmationEmail(formData) {
            // é€™è£¡æœƒèª¿ç”¨Google Apps Scriptç™¼é€éƒµä»¶
            console.log('ç™¼é€ç¢ºèªéƒµä»¶çµ¦:', formData.email);
            alert('ç¢ºèªéƒµä»¶å·²ç™¼é€è‡³: ' + formData.email);
            
            // é¡¯ç¤ºç™»éŒ„ç•Œé¢
            document.getElementById('paymentScreen').style.display = 'none';
            document.getElementById('loginScreen').style.display = 'block';
        }
        
        // é©—è­‰ç™»éŒ„
        function verifyLogin() {
            const email = document.getElementById('loginEmail').value;
            const code = document.getElementById('loginCode').value;
            
            if (email && code) {
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('gameScreen').style.display = 'block';
                startGame();
            }
        }
        
        // é‡æ–°ç™¼é€ç¢ºèªç¢¼
        function resendCode() {
            alert('ç¢ºèªç¢¼å·²é‡æ–°ç™¼é€è‡³æ‚¨çš„éƒµç®±');
        }
        
        // é¡¯ç¤ºç¤¾äº¤åˆ†äº«
        function showSocialShare() {
            const shareDiv = document.getElementById('socialShare');
            shareDiv.style.display = shareDiv.style.display === 'none' ? 'block' : 'none';
        }
        
        // ç¤¾äº¤åˆ†äº«
        function shareSocial(platform) {
            const text = 'æˆ‘æ­£åœ¨åƒåŠ ã€Œä¹é¾è¨˜æ†¶åº«ã€ARæ­·å²è§£è¬é«”é©—ï¼Œæ¢ç´¢åœŸç“œç£å’Œä¹é¾åŸçš„ç™¾å¹´æ­·å²ï¼ğŸ™ï¸';
            let url = '';
            
            switch(platform) {
                case 'facebook':
                    url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`;
                    break;
                case 'twitter':
                    url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;
                    break;
                case 'whatsapp':
                    url = `https://wa.me/?text=${encodeURIComponent(text + ' ' + window.location.href)}`;
                    break;
            }
            
            window.open(url, '_blank');
        }
    </script>
</body>
</html>
