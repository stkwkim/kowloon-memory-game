<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¢ç´¢å®Œæˆ | ä¹é¾è¨˜æ†¶åº«</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft JhengHei', 'PingFang TC', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .certificate-container {
            max-width: 600px;
            text-align: center;
        }
        
        .certificate {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            padding: 50px 40px;
            border-radius: 25px;
            border: 15px solid #ff6b00;
            position: relative;
            margin: 30px 0;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }
        
        .ribbon {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            background: #ff6b00;
            color: white;
            padding: 10px 40px;
            border-radius: 25px;
            font-weight: bold;
        }
        
        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 30px 0;
        }
        
        .stat-item {
            background: rgba(255,255,255,0.9);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #ff6b00;
        }
        
        button {
            padding: 15px 30px;
            margin: 10px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        button:hover {
            transform: translateY(-2px);
        }
        
        .share-btn {
            background: #1877f2;
            color: white;
        }
        
        .volunteer-btn {
            background: #27ae60;
            color: white;
        }
        
        .home-btn {
            background: #95a5a6;
            color: white;
        }
    </style>
</head>
<body>
    <div class="certificate-container">
        <div class="certificate">
            <div class="ribbon">
                <i class="fas fa-trophy"></i> æ¢ç´¢æˆå°±è­‰æ›¸
            </div>
            
            <h1 style="color: #2d3436; margin-top: 30px;">ğŸ† ä¹é¾è¨˜æ†¶åº«</h1>
            <h2 style="color: #2d3436; margin-bottom: 30px;">æ­·å²æ¢ç´¢æˆå°±è­‰æ›¸</h2>
            
            <div style="background: rgba(255,255,255,0.9); padding: 25px; border-radius: 15px; margin: 20px 0;">
                <p style="font-size: 1.2rem;">æ­¤è­‰æ›¸é ’ç™¼äºˆ</p>
                <h3 style="color: #2d3436; margin: 10px 0;" id="userName">æ¢ç´¢è€…</h3>
                <p>ä»¥è¡¨å½°å…¶å®Œæˆä¹é¾è¨˜æ†¶åº«å®Œæ•´æ¢ç´¢ä¹‹æ—…</p>
            </div>
            
            <div class="stats">
                <div class="stat-item">
                    <i class="fas fa-map-marker-alt" style="color: #e74c3c; font-size: 24px;"></i>
                    <h4 id="locationsCount">5</h4>
                    <p>æ­·å²åœ°é»æ¢ç´¢</p>
                </div>
                <div class="stat-item">
                    <i class="fas fa-book" style="color: #3498db; font-size: 24px;"></i>
                    <h4 id="factsCount">20</h4>
                    <p>æ­·å²çŸ¥è­˜æ”¶é›†</p>
                </div>
                <div class="stat-item">
                    <i class="fas fa-clock" style="color: #9b59b6; font-size: 24px;"></i>
                    <h4 id="completionDate">ä»Šæ—¥</h4>
                    <p>å®Œæˆæ—¥æœŸ</p>
                </div>
                <div class="stat-item">
                    <i class="fas fa-star" style="color: #f1c40f; font-size: 24px;"></i>
                    <h4>100%</h4>
                    <p>å®Œæˆé€²åº¦</p>
                </div>
            </div>
            
            <div style="margin-top: 30px;">
                <p style="color: #666; font-style: italic;">
                    "æ¢ç´¢éå»ï¼Œç†è§£ç¾åœ¨ï¼Œå•Ÿç™¼æœªä¾†"
                </p>
            </div>
        </div>
        
        <div style="margin: 30px 0;">
            <button class="share-btn" onclick="shareCertificate()">
                <i class="fas fa-share-alt"></i> åˆ†äº«æˆå°±
            </button>
            <button class="volunteer-btn" onclick="showVolunteerOptions()">
                <i class="fas fa-hands-helping"></i> åƒèˆ‡ç¾©å·¥
            </button>
            <button class="home-btn" onclick="goHome()">
                <i class="fas fa-home"></i> è¿”å›é¦–é 
            </button>
        </div>
        
        <div id="volunteerSection" style="display: none; background: white; padding: 25px; border-radius: 15px; margin: 20px 0;">
            <h3 style="color: #2d3436; margin-bottom: 20px;">ğŸ¯ æ¨è–¦ç¾©å·¥æ©Ÿæœƒ</h3>
            <div style="text-align: left;">
                <div style="background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 10px;">
                    <h4>ç¤¾å€æ­·å²å°è³å“¡</h4>
                    <p>å¸¶é ˜éŠå®¢æ¢ç´¢ä¹é¾åŸæ­·å²æ™¯é»</p>
                    <button onclick="applyVolunteer('å°è³å“¡')" style="background: #27ae60; color: white; padding: 8px 15px; border: none; border-radius: 5px; cursor: pointer;">ç”³è«‹åƒèˆ‡</button>
                </div>
                <div style="background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 10px;">
                    <h4>æ­·å²è³‡æ–™æ•´ç†</h4>
                    <p>å”åŠ©æ•¸ç¢¼åŒ–æ­·å²æª”æ¡ˆå’Œç…§ç‰‡</p>
                    <button onclick="applyVolunteer('è³‡æ–™æ•´ç†')" style="background: #27ae60; color: white; padding: 8px 15px; border: none; border-radius: 5px; cursor: pointer;">ç”³è«‹åƒèˆ‡</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å¾æœ¬åœ°å­˜å„²åŠ è¼‰ç”¨æˆ¶æ•¸æ“š
        window.onload = function() {
            const userData = JSON.parse(localStorage.getItem('kowloon_user_data'));
            if (userData) {
                document.getElementById('userName').textContent = userData.teamName;
                document.getElementById('locationsCount').textContent = userData.completedMissions.length;
                document.getElementById('factsCount').textContent = userData.collectedFacts.length;
                document.getElementById('completionDate').textContent = new Date().toLocaleDateString('zh-HK');
            }
            
            // è¿½è¹¤è­‰æ›¸æŸ¥çœ‹
            const analyticsData = JSON.parse(localStorage.getItem('kowloon_analytics') || '[]');
            analyticsData.push({
                timestamp: new Date().toISOString(),
                event: 'certificate_view',
                user: userData ? userData.userEmail : 'unknown'
            });
            localStorage.setItem('kowloon_analytics', JSON.stringify(analyticsData));
        };
        
        function shareCertificate() {
            const userData = JSON.parse(localStorage.getItem('kowloon_user_data'));
            const text = `æˆ‘å‰›å‰›å®Œæˆäº†ã€Œä¹é¾è¨˜æ†¶åº«ã€ARæ­·å²è§£è¬ä¹‹æ—…ï¼æ¢ç´¢äº†${userData.completedMissions.length}å€‹æ­·å²åœ°é»ï¼Œæ”¶é›†äº†${userData.collectedFacts.length}å€‹æ­·å²çŸ¥è­˜ã€‚ğŸ†\n\nä¸€èµ·ä¾†æ¢ç´¢é¦™æ¸¯çš„æ­·å²è¨˜æ†¶å§ï¼`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'ä¹é¾è¨˜æ†¶åº«æ¢ç´¢è­‰æ›¸',
                    text: text,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(text + '\n' + window.location.href);
                alert('è­‰æ›¸å…§å®¹å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼è«‹è²¼åˆ°ç¤¾äº¤åª’é«”åˆ†äº«ã€‚');
            }
        }
        
        function showVolunteerOptions() {
            document.getElementById('volunteerSection').style.display = 'block';
        }
        
        function applyVolunteer(role) {
            const analyticsData = JSON.parse(localStorage.getItem('kowloon_analytics') || '[]');
            analyticsData.push({
                timestamp: new Date().toISOString(),
                event: 'volunteer_application',
                role: role
            });
            localStorage.setItem('kowloon_analytics', JSON.stringify(analyticsData));
            
            alert(`æ„Ÿè¬æ‚¨ç”³è«‹${role}ç¾©å·¥ï¼æˆ‘å€‘å°‡åœ¨3å€‹å·¥ä½œæ—¥å…§è¯çµ¡æ‚¨ã€‚`);
        }
        
        function goHome() {
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>
